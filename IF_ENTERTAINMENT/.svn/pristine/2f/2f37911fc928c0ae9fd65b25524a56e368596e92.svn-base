<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.ddit.mapper.community.ICollectionMapper">

	<select id="myCollectionList" resultType="myCollectionVO">
		SELECT
		    ct.ct_id,
		    ct.ct_name,
		    ct.ct_goal,
		    col.collection_done,
		    col.collection_date,
		    col.user_no
		FROM
		    collection_type ct
		LEFT OUTER JOIN 
		    collection col ON ct.ct_id = col.ct_id AND col.user_no = ${userNo}
	</select>
	
	<insert id="insertGoodsPurchaseCollection">
		insert into collection(
			collection_no
			, collection_done
			, collection_date
			, user_no
			, ct_id
		)values(
			seq_collection.nextval
			, 'Y'
			, sysdate
			, #{userNo}
			, 1
		)
		
	</insert>


</mapper>