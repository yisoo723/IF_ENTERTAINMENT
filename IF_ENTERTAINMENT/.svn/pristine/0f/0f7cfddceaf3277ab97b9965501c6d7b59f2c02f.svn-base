<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib uri="http://www.springframework.org/security/tags" prefix="sec" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn" %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.10/dist/sweetalert2.min.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.10/dist/sweetalert2.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<style type="text/css">
.dig-pro img {
    max-width: 100%; /* 이미지가 컨테이너를 넘어가지 않도록 설정 */
    height: auto; /* 이미지의 비율을 유지하면서 높이 조정 */
}
.custom-gap {
  padding: 20px;
}

.custom-inner-bg {
  background-color: #f9f9f9;
}

.custom-table-styles {
  background-color: white;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.custom-little-heading h2 {
  font-size: 24px;
  color: #333;
}

.custom-listbar-container {
  margin-top: 20px;
}

.custom-searchform-box input[type="text"] {
  flex-grow: 1;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 4px 0 0 4px;
}

.custom-searchform-box button {
  padding: 10px;
  border: 1px solid #007bff;
  background-color: #007bff;
  color: white;
  border-radius: 0 4px 4px 0;
  cursor: pointer;
}

.custom-searchform-box button:hover {
  background-color: #0056b3;
}

#customNewBtn {
  margin-left: 10px;
  background-color: #28a745;
  color: white;
  border: none;
  padding: 10px;
  cursor: pointer;
}

#customNewBtn:hover {
  background-color: #218838;
}

</style>
</head>
				<body>
					<div class="custom-gap custom-inner-bg">
						<div class="custom-table-styles">
				
							<div class="custom-little-heading">
								<h2 style="margin-bottom: 30px">아티스트 리스트</h2>
							</div>
				
							<div class="custom-gap custom-listbar-container">
								<div class="custom-discount-copon custom-list-bar">
									<div class="row">
										<div class="col-md-4">
											<form method="post" id="searchForm">
												<input type="hidden" name="page" id="page" />
												<div class="custom-searchform-box" style="display: flex">
													<input type="text" name="searchWord" placeholder="상품명 검색">
													<button type="submit">검색</button>
												</div>
											</form>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				
					<div class="col-lg-12">
					    <div class="central-meta">
					        <h4 class="create-post">Latest Items</h4>
					        <div class="row">
					            <c:set value="${pagingVO.dataList }" var="goodsList"/>
					            <c:forEach var="list" items="${goodsList }">
					                <!-- 각 상품을 감싸는 div가 row의 직접적인 자식이 되도록 변경 -->
					                <div class="col-lg-3 col-md-3 col-sm-6">
					                    <div class="dig-pro">
					                        <div>
					                            <img src="${list.goodsThumbnail }" alt="">
					                            <div class="user-avatr">
					                                <img alt="" src="images/resources/admin.jpg">
					                                <div>
					                                    <img src="${pageContext.request.contextPath}/resources/upload/group/ezgif.com-animated-gif-maker.gif" alt="설명" class="profile-img">
					                                </div>
					                            </div>
					                        </div>
					                        <div class="digi-meta">
					                            <h4>
					                                <a href="product-detail.html" title="">${list.goodsName}</a>
					                            </h4>
					                            <div class="rate">
					                                <span class="qeemat"><fmt:formatNumber value="${list.goodsPrice}" type="currency" currencySymbol="₩" pattern="¤#,###"/></span>
					                            </div>
					                        </div>
					                    </div>
					                </div>
					                <!-- 여기까지 상품 하나 -->
					            </c:forEach>
					        </div>
					    </div>
					</div>
					<div class="card-footer prod-footer clearfix" id="pagingArea">
					    ${pagingVO.pagingHTML }
					</div>
</body>

<script>
$(function () {
	var adminList = $(".adminList");
	var prod_update = $(".prod_update");
	var delBtn = $(".delBtn");
	var searchForm = $("#searchForm")
	
	prod_update.on("click", function () {
	    var prodNo = $(this).data("prodno"); 
	    location.href = "/goods/update.do?goodsNo=" + prodNo;
	});

	$('.all-slct').on("click",function(){
		$(this).toggleClass('active');
		
	    $(".sngl-slct").toggleClass('active'); 
	});
	
	$(".icon-trash").on("click", function() {
		deleteBoard();
	});
	
	var newBtn = $("#newBtn");
	var pagingArea = $("#pagingArea");
	
	pagingArea.on("click", "a", function (event) {
		event.preventDefault();
		var pageNo = $(this).data("page");
		searchForm.find("#page").val(pageNo);
		searchForm.submit();
	});
	
	newBtn.on("click", function () {
		location.href = "/entertain/artist/profile/form.do";
	});
	
	delBtn.on("click", function () {
		if (confirm("선택한 아티스트를 삭제 하시겠습니까 ?")) {
			$("#delform").submit();
		}
	});
	
});
</script>
</html>