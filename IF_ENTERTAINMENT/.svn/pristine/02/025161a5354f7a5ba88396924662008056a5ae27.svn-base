<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
<%@ taglib uri="http://www.springframework.org/security/tags" prefix="sec" %>

<style>
    .btn.btn-link > span {
        color: white;
        font-size: 12px;
        position: absolute;
        right: 20px;
        top: 13px;
    }

    .gradient-badge {
        background: #9551fc;
    }
</style>

<section>
	<div class="gap">
		<div class="container">
			<div class="row" id="page-contents">

				<div class="col-lg-12">

					<div class="pitnik-title">
						<h1>FAQ</h1>
<!-- 						<p> -->
<!-- 							êµ¿ì¦ˆìƒµ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ë°‘ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë¬¸ì˜í•´ ì£¼ì„¸ìš”. <br /> ì €í¬ëŠ” í•­ìƒ ì—¬ëŸ¬ë¶„ì˜ ì˜ê²¬ì— ê·€ -->
<!-- 							ê¸°ìš¸ì´ê³  ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤. -->
<!-- 						</p> -->
					</div>

					<div class="faq-area">
						<div style="display: flex; justify-content: space-between; align-items: center;">
							<h4 style="display: flex;">ğŸ“Œ ìì£¼ë¬»ëŠ” ì§ˆë¬¸</h4>
							<div class="card-footer prod-footer clearfix" id="pagingArea" style="display: flex; justify-content: flex-end; background-color: transparent; border: none;">
								<form method="post" id="searchForm">
									<div class="custom-searchform-box" style="display: flex;">
										<input type="text" name="searchWord" placeholder="ê²€ìƒ‰" value="${searchWord }" style="margin-right: 10px">
										<button type="submit">ê²€ìƒ‰</button>
									</div>
									<sec:csrfInput/>
								</form>
							</div>
						</div>
							<p>ìì£¼ë¬»ëŠ” ì§ˆë¬¸ì— ì›í•˜ëŠ” ë‹µë³€ì´ ì—†ì„ ë• 1:1ë¬¸ì˜í•˜ê¸°ë¥¼ ì´ìš©í•´ì£¼ì„¸ìš”</p>
						<div class="accordion" id="accordion">
						<c:set value="${pagingVO.dataList }" var="faqList"/>
						<c:choose>
							<c:when test="${empty faqList }">
								<div class="card">
									<div class="card-header" id="headingOne">
										<h5 class="mb-0">
											<button class="btn btn-link" type="button"
												data-toggle="collapse" data-target="#collapseOne"
												aria-expanded="false" aria-controls="collapseOne">
												faqë‚´ì—­ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</button>
										</h5>
									</div>
								</div>
							</c:when>
							<c:otherwise>
								<c:forEach items="${faqList }" var="faq" varStatus="loop">
									<div class="card">
										<div class="card-header" id="heading${loop.index}">
											<h5 class="mb-0">
												<button class="btn btn-link collapsed" type="button"
													data-toggle="collapse" data-target=#collapse${loop.index}
													aria-expanded="false" aria-controls="collapseThree">
													${faq.bfTitle }</button>
											</h5>
										</div>
										<div id="collapse${loop.index}" class="collapse"
											aria-labelledby="headingThree" data-parent="#accordion">
											<div class="card-body">${faq.bfContent }</div>
										</div>
									</div>
								</c:forEach>
							</c:otherwise>
						</c:choose>
							
						</div>
					</div>
					<div class="card-footer prod-footer clearfix" id="pagingArea">
						<form method="post" id="searchForm">
							<input type="hidden" name="page" id="page" />
<!-- 							<div class="custom-searchform-box" style="display: flex"> -->
<%-- 								<input type="text" name="searchWord" placeholder="ê²€ìƒ‰" value="${searchWord }"> --%>
<!-- 								<button type="submit">ê²€ìƒ‰</button> -->
<!-- 							</div> -->
							<sec:csrfInput/>
						</form>
						${pagingVO.pagingHTML }
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<script type="text/javascript">
    $(function () {
        var pagingArea = $("#pagingArea");
        var searchForm = $("#searchForm"); // searchForm ë³€ìˆ˜ë¥¼ ì •ì˜

        pagingArea.on("click", "a", function (event) {
            event.preventDefault();
            var pageNo = $(this).data("page");
            searchForm.find("#page").val(pageNo);
            searchForm.submit();
        });

    });

 	// í˜ì´ì§€ ë¡œë”© í›„ ì•„ì½”ë””ì–¸ì„ ë‹«ì€ ìƒíƒœë¡œ ì‹œì‘
    $('.collapse').collapse('hide');

    // ì•„ì½”ë””ì–¸ í—¤ë”ë¥¼ í´ë¦­í•˜ë©´ í•´ë‹¹ ì•„ì½”ë””ì–¸ ì—´ê¸°/ë‹«ê¸°
    $('.card-header').click(function() {
        var collapse = $(this).next('.collapse');
        collapse.collapse('toggle'); // í´ë¦­ëœ ì•„ì½”ë””ì–¸ ì—´ê±°ë‚˜ ë‹«ê¸°

        // í´ë¦­ëœ ì•„ì½”ë””ì–¸ ì´ì™¸ì˜ ë‹¤ë¥¸ ì•„ì½”ë””ì–¸ ë‹«ê¸°
        $('.collapse').not(collapse).collapse('hide');
    });
    
    
</script>
