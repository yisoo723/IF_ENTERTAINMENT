<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.ddit.mapper.common.ISignMapper">
		
		
	<select id="findId" parameterType="userVO" resultType="userVO">
		SELECT U.USER_ID
        FROM "USER" U
        INNER JOIN MEMBER M ON U.USER_NO = M.USER_NO
        WHERE U.USER_NAME = #{userName}
        AND M.MEMBER_TELNO = #{memberTelno}
	</select>
	



    <select id="findPw" parameterType="userVO"  resultType="string">
        SELECT M.MEMBER_EMAIL
        FROM "USER" U
        INNER JOIN MEMBER M ON U.USER_NO = M.USER_NO
        WHERE U.USER_ID = #{userId}
        AND U.USER_NAME = #{userName}
        AND M.MEMBER_TELNO = #{memberTelno}
    </select>

	<update id="changePw" parameterType="userVO" >
        UPDATE "USER"
	   	 	SET USER_PW = #{userPw}
	    	WHERE USER_ID = #{userId}
	    	AND USER_NAME = #{userName}
	</update>


</mapper>